{"tasks":[{"environment":{},"displayName":"$(webname)-WebStop","alwaysRun":false,"continueOnError":false,"condition":"succeeded()","enabled":false,"timeoutInMinutes":0,"retryCountOnTaskFailure":0,"inputs":{"EnableIIS":"false","IISDeploymentType":"IISWebsite","ActionIISWebsite":"StopWebsite","ActionIISApplicationPool":"CreateOrUpdateAppPool","StartStopWebsiteName":"$(webname)","WebsiteName":"","WebsitePhysicalPath":"%SystemDrive%\\inetpub\\wwwroot","WebsitePhysicalPathAuth":"WebsiteUserPassThrough","WebsiteAuthUserName":"","WebsiteAuthUserPassword":"","AddBinding":"false","Protocol":"http","IPAddress":"All Unassigned","Port":"80","ServerNameIndication":"false","HostNameWithOutSNI":"","HostNameWithHttp":"","HostNameWithSNI":"","SSLCertThumbPrint":"","Bindings":"","CreateOrUpdateAppPoolForWebsite":"false","ConfigureAuthenticationForWebsite":"false","AppPoolNameForWebsite":"","DotNetVersionForWebsite":"v4.0","PipeLineModeForWebsite":"Integrated","AppPoolIdentityForWebsite":"ApplicationPoolIdentity","AppPoolUsernameForWebsite":"","AppPoolPasswordForWebsite":"","AnonymousAuthenticationForWebsite":"false","BasicAuthenticationForWebsite":"false","WindowsAuthenticationForWebsite":"true","ParentWebsiteNameForVD":"","VirtualPathForVD":"","PhysicalPathForVD":"%SystemDrive%\\inetpub\\wwwroot","VDPhysicalPathAuth":"VDUserPassThrough","VDAuthUserName":"","VDAuthUserPassword":"","ParentWebsiteNameForApplication":"","VirtualPathForApplication":"","PhysicalPathForApplication":"%SystemDrive%\\inetpub\\wwwroot","ApplicationPhysicalPathAuth":"ApplicationUserPassThrough","ApplicationAuthUserName":"","ApplicationAuthUserPassword":"","CreateOrUpdateAppPoolForApplication":"false","AppPoolNameForApplication":"","DotNetVersionForApplication":"v4.0","PipeLineModeForApplication":"Integrated","AppPoolIdentityForApplication":"ApplicationPoolIdentity","AppPoolUsernameForApplication":"","AppPoolPasswordForApplication":"","AppPoolName":"","DotNetVersion":"v4.0","PipeLineMode":"Integrated","AppPoolIdentity":"ApplicationPoolIdentity","AppPoolUsername":"","AppPoolPassword":"","StartStopRecycleAppPoolName":"","AppCmdCommands":""},"task":{"id":"1b2aec60-dc49-11e6-9b76-63056e018cac","versionSpec":"0.*","definitionType":"task"}},{"environment":{},"displayName":"$(webname)-CreateOrUpdate","alwaysRun":false,"continueOnError":false,"condition":"succeeded()","enabled":true,"timeoutInMinutes":0,"retryCountOnTaskFailure":0,"inputs":{"EnableIIS":"false","IISDeploymentType":"IISWebsite","ActionIISWebsite":"CreateOrUpdateWebsite","ActionIISApplicationPool":"CreateOrUpdateAppPool","StartStopWebsiteName":"","WebsiteName":"$(webname)","WebsitePhysicalPath":"C:\\apps\\$(webname)","WebsitePhysicalPathAuth":"WebsiteWindowsAuth","WebsiteAuthUserName":"$(webuser)","WebsiteAuthUserPassword":"$(webpassword)","AddBinding":"true","Protocol":"http","IPAddress":"All Unassigned","Port":"80","ServerNameIndication":"false","HostNameWithOutSNI":"","HostNameWithHttp":"","HostNameWithSNI":"","SSLCertThumbPrint":"","Bindings":"{\"bindings\":[{\"protocol\":\"https\",\"ipAddress\":\"$(WebIP)\",\"port\":\"443\",\"hostname\":\"$(WebHost)\",\"sslThumbprint\":\"$(WebCertThumb)\",\"sniFlag\":false},{\"protocol\":\"http\",\"ipAddress\":\"$(WebIP)\",\"port\":\"80\",\"hostname\":\"$(WebHost)\",\"sslThumbprint\":\"\",\"sniFlag\":false}]}","CreateOrUpdateAppPoolForWebsite":"true","ConfigureAuthenticationForWebsite":"true","AppPoolNameForWebsite":"$(webname)","DotNetVersionForWebsite":"v4.0","PipeLineModeForWebsite":"Integrated","AppPoolIdentityForWebsite":"SpecificUser","AppPoolUsernameForWebsite":"$(webuser)","AppPoolPasswordForWebsite":"$(webpassword)","AnonymousAuthenticationForWebsite":"false","BasicAuthenticationForWebsite":"false","WindowsAuthenticationForWebsite":"true","ParentWebsiteNameForVD":"","VirtualPathForVD":"","PhysicalPathForVD":"%SystemDrive%\\inetpub\\wwwroot","VDPhysicalPathAuth":"VDUserPassThrough","VDAuthUserName":"","VDAuthUserPassword":"","ParentWebsiteNameForApplication":"","VirtualPathForApplication":"","PhysicalPathForApplication":"%SystemDrive%\\inetpub\\wwwroot","ApplicationPhysicalPathAuth":"ApplicationUserPassThrough","ApplicationAuthUserName":"","ApplicationAuthUserPassword":"","CreateOrUpdateAppPoolForApplication":"false","AppPoolNameForApplication":"","DotNetVersionForApplication":"v4.0","PipeLineModeForApplication":"Integrated","AppPoolIdentityForApplication":"ApplicationPoolIdentity","AppPoolUsernameForApplication":"","AppPoolPasswordForApplication":"","AppPoolName":"","DotNetVersion":"v4.0","PipeLineMode":"Integrated","AppPoolIdentity":"ApplicationPoolIdentity","AppPoolUsername":"","AppPoolPassword":"","StartStopRecycleAppPoolName":"","AppCmdCommands":"set apppool \"$(webname)\" -processmodel.loaduserprofile:\"true\""},"task":{"id":"1b2aec60-dc49-11e6-9b76-63056e018cac","versionSpec":"0.*","definitionType":"task"}},{"environment":{},"displayName":"$(webname)-WebDeploy","alwaysRun":false,"continueOnError":false,"condition":"succeeded()","enabled":true,"timeoutInMinutes":0,"retryCountOnTaskFailure":0,"inputs":{"WebSiteName":"$(webname)","VirtualApplication":"","Package":"$(websourcefolder)","SetParametersFile":"","RemoveAdditionalFilesFlag":"false","ExcludeFilesFromAppDataFlag":"false","TakeAppOfflineFlag":"false","AdditionalArguments":"","XmlTransformation":"false","XmlVariableSubstitution":"false","JSONFiles":""},"task":{"id":"1b467810-6725-4b6d-accd-886174c09bba","versionSpec":"0.*","definitionType":"task"}},{"environment":{},"displayName":"Replace tokens in **/*.config","alwaysRun":false,"continueOnError":false,"condition":"succeeded()","enabled":true,"timeoutInMinutes":0,"retryCountOnTaskFailure":0,"inputs":{"rootDirectory":"C:\\apps\\$(webname)","targetFiles":"**/*.config","encoding":"auto","writeBOM":"true","escapeType":"auto","escapeChar":"","charsToEscape":"","verbosity":"normal","actionOnMissing":"warn","keepToken":"false","tokenPrefix":"#{","tokenSuffix":"}#","useLegacyPattern":"false","emptyValue":"(empty)","variableFiles":"","variableSeparator":".","enableTelemetry":"true"},"task":{"id":"a8515ec8-7254-4ffd-912c-86772e2b5962","versionSpec":"3.*","definitionType":"task"}},{"environment":{},"displayName":"$(webname)-Manage IISWebsite","alwaysRun":false,"continueOnError":false,"condition":"succeeded()","enabled":true,"timeoutInMinutes":0,"retryCountOnTaskFailure":0,"inputs":{"EnableIIS":"false","IISDeploymentType":"IISWebsite","ActionIISWebsite":"StartWebsite","ActionIISApplicationPool":"CreateOrUpdateAppPool","StartStopWebsiteName":"$(webname)","WebsiteName":"","WebsitePhysicalPath":"%SystemDrive%\\inetpub\\wwwroot","WebsitePhysicalPathAuth":"WebsiteUserPassThrough","WebsiteAuthUserName":"","WebsiteAuthUserPassword":"","AddBinding":"false","Protocol":"http","IPAddress":"All Unassigned","Port":"80","ServerNameIndication":"false","HostNameWithOutSNI":"","HostNameWithHttp":"","HostNameWithSNI":"","SSLCertThumbPrint":"","Bindings":"","CreateOrUpdateAppPoolForWebsite":"false","ConfigureAuthenticationForWebsite":"false","AppPoolNameForWebsite":"","DotNetVersionForWebsite":"v4.0","PipeLineModeForWebsite":"Integrated","AppPoolIdentityForWebsite":"ApplicationPoolIdentity","AppPoolUsernameForWebsite":"","AppPoolPasswordForWebsite":"","AnonymousAuthenticationForWebsite":"false","BasicAuthenticationForWebsite":"false","WindowsAuthenticationForWebsite":"true","ParentWebsiteNameForVD":"","VirtualPathForVD":"","PhysicalPathForVD":"%SystemDrive%\\inetpub\\wwwroot","VDPhysicalPathAuth":"VDUserPassThrough","VDAuthUserName":"","VDAuthUserPassword":"","ParentWebsiteNameForApplication":"","VirtualPathForApplication":"","PhysicalPathForApplication":"%SystemDrive%\\inetpub\\wwwroot","ApplicationPhysicalPathAuth":"ApplicationUserPassThrough","ApplicationAuthUserName":"","ApplicationAuthUserPassword":"","CreateOrUpdateAppPoolForApplication":"false","AppPoolNameForApplication":"","DotNetVersionForApplication":"v4.0","PipeLineModeForApplication":"Integrated","AppPoolIdentityForApplication":"ApplicationPoolIdentity","AppPoolUsernameForApplication":"","AppPoolPasswordForApplication":"","AppPoolName":"","DotNetVersion":"v4.0","PipeLineMode":"Integrated","AppPoolIdentity":"ApplicationPoolIdentity","AppPoolUsername":"","AppPoolPassword":"","StartStopRecycleAppPoolName":"","AppCmdCommands":""},"task":{"id":"1b2aec60-dc49-11e6-9b76-63056e018cac","versionSpec":"0.*","definitionType":"task"}}],"runsOn":["Agent","DeploymentGroup"],"revision":16,"createdBy":{"displayName":"Junimer Faustino","id":"e6b8d14e-bffa-62b8-987c-5d028151ee94","uniqueName":"junimer@prechart.com"},"createdOn":"2020-07-29T11:45:00.540Z","modifiedBy":{"displayName":"Emerson Tiamzon","id":"c664e297-18a9-6a2a-8967-6df104a179ec","uniqueName":"emerson@prechart.com"},"modifiedOn":"2020-08-13T02:58:29.260Z","comment":"","id":"f0047023-7665-4f24-b22d-899eb13d2f58","name":"Prechart-Deploy Web","version":{"major":1,"minor":0,"patch":0,"isTest":false},"iconUrl":"https://cdn.vsassets.io/v/M172_20200720.2/_content/icon-meta-task.png","friendlyName":"Prechart-Deploy Web","description":"","category":"Deploy","definitionType":"metaTask","author":"Junimer Faustino","demands":[],"groups":[],"inputs":[{"aliases":[],"options":{},"properties":{},"name":"WebCertThumb","label":"WebCertThumb","defaultValue":"","required":true,"type":"string","helpMarkDown":"","groupName":""},{"aliases":[],"options":{},"properties":{},"name":"WebHost","label":"WebHost","defaultValue":"","required":true,"type":"string","helpMarkDown":"","groupName":""},{"aliases":[],"options":{},"properties":{},"name":"WebIP","label":"WebIP","defaultValue":"","required":true,"type":"string","helpMarkDown":"","groupName":""},{"aliases":[],"options":{},"properties":{},"name":"webname","label":"webname","defaultValue":"$(webname)","required":true,"type":"string","helpMarkDown":"Provide the name of the IIS website to create or update.","groupName":""},{"aliases":[],"options":{},"properties":{},"name":"webpassword","label":"webpassword","defaultValue":"$(webpassword)","required":true,"type":"string","helpMarkDown":"Provide the user's password that will be used to access the website's physical path. <br/>The best practice is to create a variable in the build or release pipeline, and mark it as 'Secret' to secure it, and then use it here, like '$(userCredentials)'. <br> Note: Special characters in password are interpreted as per <a href=\"https://go.microsoft.com/fwlink/?linkid=843470\">command-line arguments</a>","groupName":""},{"aliases":[],"options":{},"properties":{},"name":"websourcefolder","label":"websourcefolder","defaultValue":"$(websourcefolder)","required":true,"type":"filePath","helpMarkDown":"File path to the package or a folder generated by MSBuild or a compressed archive file.<br />Variables ( [Build](https://docs.microsoft.com/vsts/pipelines/build/variables) | [Release](https://docs.microsoft.com/vsts/pipelines/release/variables#default-variables)), wildcards are supported. <br/> For example, $(System.DefaultWorkingDirectory)\\\\\\*\\*\\\\\\*.zip.","groupName":""},{"aliases":[],"options":{},"properties":{},"name":"webuser","label":"webuser","defaultValue":"$(webuser)","required":true,"type":"string","helpMarkDown":"Provide the user name that will be used to access the website's physical path.","groupName":""}],"satisfies":[],"sourceDefinitions":[],"dataSourceBindings":[],"instanceNameFormat":"Task group: Prechart-Deploy Web $(WebCertThumb)","preJobExecution":{},"execution":{},"postJobExecution":{}}